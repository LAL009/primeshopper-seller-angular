<div class="spinner" *ngIf='spinner'>
    <mat-spinner diameter="40"></mat-spinner>
</div>
<div class="mb-2 d-flex flex-row-reverse">
    <a href="https://prime-shopper-api.herokuapp.com/csv/Add_Products.csv" download class="btn btn-primary">Template CSV Download</a>
</div>
<!-- <div class="d-flex position-relative" #mainDiv>
    <ul *ngIf="datas" class="m-0 p-0">
        <app-product-item *ngFor="let data of datas" [data]="data"></app-product-item>
    </ul>
</div> -->
<!-- <div #mainDiv>
    <ul>
        <li *ngFor="let data of datas">
            <span> {{data.data.name}}</span>
            <span *ngIf="data.children" class="buttonC" (click)="showChild(data.id)">></span>
        </li>
    </ul>
</div> -->
<div class="d-flex">
    <mat-card>
        <ul class="p-0 ">
            <li *ngFor="let data of datas; let i= index" class="d-flex justify-content-between py-1">
                <span (click)="addData(data.id,data)">{{ data.data.name }}</span>
                <span *ngIf="data.children.length" (click)="viewChild(i,data.id)" class="btn p-0">></span>
            </li>
        </ul>
    </mat-card>
    <mat-card *ngIf="viewList">
        <ul class="p-0">
            <li *ngFor="let data of newData; let i= index" class="d-flex justify-content-between py-1">
                <span (click)="addData(data.id,data)">{{ data.data.name }}</span>
                <span *ngIf="data.children.length" (click)="viewChild1(i,data.id)" class="btn p-0">></span>
            </li>
        </ul>
    </mat-card>
    <mat-card *ngIf="viewList1">
        <ul class="p-0">
            <li *ngFor="let data of newData1; let i= index" class="d-flex justify-content-between py-1">
                <span (click)="addData(data.id,data)">{{ data.data.name }}</span>
                <span *ngIf="data.children.length" (click)="viewChild2(i,data.id)" class="btn p-0">></span>
            </li>
        </ul>
    </mat-card>
    <mat-card *ngIf="viewList2">
        <ul class="p-0">
            <li *ngFor="let data of newData2; let i= index" class="d-flex justify-content-between py-1">
                <span (click)="addData(data.id,data)">{{ data.data.name }}</span>
                <span *ngIf="data.children.length" (click)="viewChild3(i,data.id)" class="btn p-0">></span>
            </li>
        </ul>
    </mat-card>
    <mat-card *ngIf="viewList3">
        <ul class="p-0">
            <li *ngFor="let data of newData3; let i= index" class="d-flex justify-content-between py-1">
                <span (click)="addData(data.id,data)">{{ data.data.name }}</span>
                <span *ngIf="data.children.length" (click)="viewChild3(i,data.id)" class="btn p-0">></span>
            </li>
        </ul>
    </mat-card>
</div>
<mat-card class="mt-2 w-25" *ngIf="selectedId" >
   <p >Add file to: <b>{{selectedName}}</b></p>
   <input type="file" (change)="addFile($event)">
   <button class="btn btn-primary btn-sm mt-1" (click)="submitData()" [disabled]="uplodedFile == undefined"> SUBMIT</button>
</mat-card>